Generate a list of waypoints for a drone in a Webots simulator in JSON format. 
Each waypoint should include x, y, and z coordinates. 
The waypoints should form a specific path (e.g., a straight line, a circular path, or any user-defined shape). 
Please ensure the output is only formatted as a Python list of dictionaries. 


Example Input:
- Path type: Circle
- Center of circle: x:10, y:10, z:10
- Radius: 2 units
- Number of waypoints: 40
- Altitude: z:10
- Rotation axis : y
- Rotation angle : 90 degrees

Example Output:
[
    {"x": 10.0, "y": 10.0, "z": 12.0},
    {"x": 10.31, "y": 10.0, "z": 11.98},
    {"x": 10.62, "y": 10.0, "z": 11.92},
    {"x": 10.92, "y": 10.0, "z": 11.81},
    {"x": 11.19, "y": 10.0, "z": 11.66},
    {"x": 11.43, "y": 10.0, "z": 11.48},
    {"x": 11.62, "y": 10.0, "z": 11.26},
    {"x": 11.76, "y": 10.0, "z": 11.02},
    {"x": 11.86, "y": 10.0, "z": 10.75},
    {"x": 11.90, "y": 10.0, "z": 10.47},
    {"x": 11.90, "y": 10.0, "z": 10.17},
    {"x": 11.86, "y": 10.0, "z": 9.89},
    {"x": 11.76, "y": 10.0, "z": 9.62},
    {"x": 11.62, "y": 10.0, "z": 9.38},
    {"x": 11.43, "y": 10.0, "z": 9.16},
    {"x": 11.19, "y": 10.0, "z": 8.98},
    {"x": 10.92, "y": 10.0, "z": 8.83},
    {"x": 10.62, "y": 10.0, "z": 8.73},
    {"x": 10.31, "y": 10.0, "z": 8.68},
    {"x": 10.0, "y": 10.0, "z": 8.68},
    {"x": 9.69, "y": 10.0, "z": 8.73},
    {"x": 9.38, "y": 10.0, "z": 8.83},
    {"x": 9.11, "y": 10.0, "z": 8.98},
    {"x": 8.87, "y": 10.0, "z": 9.16},
    {"x": 8.68, "y": 10.0, "z": 9.38},
    {"x": 8.54, "y": 10.0, "z": 9.62},
    {"x": 8.44, "y": 10.0, "z": 9.89},
    {"x": 8.40, "y": 10.0, "z": 10.17},
    {"x": 8.40, "y": 10.0, "z": 10.47},
    {"x": 8.44, "y": 10.0, "z": 10.75},
    {"x": 8.54, "y": 10.0, "z": 11.02},
    {"x": 8.68, "y": 10.0, "z": 11.26},
    {"x": 8.87, "y": 10.0, "z": 11.48},
    {"x": 9.11, "y": 10.0, "z": 11.66},
    {"x": 9.38, "y": 10.0, "z": 11.81},
    {"x": 9.69, "y": 10.0, "z": 11.92},
    {"x": 10.0, "y": 10.0, "z": 11.98},
    {"x": 10.31, "y": 10.0, "z": 12.0}
]

Example Input:
- Path type: Circle
- Center of circle: x:10, y:10, z:10
- Radius: 2 units
- Number of waypoints: 40
- Altitude: z:10
- Rotation axis : y
- Rotation angle : 45 degrees

Example Output:
[
    {"x": 11.414213562373096, "y": 10.0, "z": 8.585786437626904}, 
    {"x": 11.39680224666742, "y": 10.312868930080462, "z": 8.60319775333258},
    {"x": 11.344997023927915, "y": 10.618033988749895, "z": 8.655002976072085}, 
    {"x": 11.2600735106701, "y": 10.907980999479093, "z": 8.7399264893299}, 
    {"x": 11.14412280563537, "y": 11.175570504584947, "z": 8.85587719436463}, 
    {"x": 11.0, "y": 11.414213562373096, "z":9.0}, 
    {"x": 10.831253875554907, "y": 11.618033988749895, "z": 9.168746124445093}, 
    {"x": 10.642039521920207, "y": 11.782013048376736, "z": 9.357960478079795}, 
    {"x": 10.437016024448821, "y": 11.902113032590307, "z": 9.562983975551179}, 
    {"x": 10.221231742082475, "y": 11.975376681190276, "z": 9.778768257917525}, 
    {"x": 10.0, "y": 12.0, "z": 10.0}, 
    {"x": 9.778768257917525, "y": 11.975376681190276, "z": 10.221231742082475}, 
    {"x": 9.562983975551179, "y": 11.902113032590307, "z": 10.437016024448821}, 
    {"x": 9.357960478079795, "y": 11.782013048376736, "z": 10.642039521920205}, 
    {"x": 9.168746124445093, "y": 11.618033988749895, "z": 10.831253875554907}, 
    {"x": 9.0, "y": 11.414213562373096, "z": 11.0}, 
    {"x": 8.85587719436463, "y": 11.175570504584947, "z": 11.144122805635368}, 
    {"x": 8.7399264893299, "y": 10.907980999479093, "z": 11.2600735106701}, 
    {"x": 8.655002976072085, "y": 10.618033988749895, "y": 11.344997023927915}, 
    {"x": 8.60319775333258, "y": 10.312868930080462, "z": 11.39680224666742}, 
    {"x": 8.585786437626904, "y": 10.0, "z": 11.414213562373096}, 
    {"x": 8.60319775333258, "y": 9.687131069919538, "z": 11.39680224666742}, 
    {"x": 8.655002976072085, "y": 9.381966011250105, "z": 11.344997023927915}, 
    {"x": 8.7399264893299, "y": 9.092019000520907, "z": 11.2600735106701}, 
    {"x": 8.85587719436463, "y": 8.824429495415053, "z": 11.14412280563537}, 
    {"x": 9.0, "y": 8.585786437626904, "z": 11.0}, 
    {"x": 9.168746124445093, "y": 8.381966011250105, "z": 10.831253875554907}, 
    {"x": 9.357960478079793, "y": 8.217986951623264, "z": 10.642039521920207}, 
    {"x": 9.562983975551179, "y": 8.097886967409693, "z": 10.437016024448821}, 
    {"x": 9.778768257917525, "y": 8.024623318809725, "z": 10.221231742082475}, 
    {"x": 10.0, "y": 8.0, "z": 10.0}, 
    {"x": 10.221231742082473, "y": 8.024623318809724, "z": 9.778768257917527}, 
    {"x": 10.437016024448821, "y": 8.097886967409693, "z": 9.562983975551179}, 
    {"x": 10.642039521920205, "y": 8.217986951623264, "z": 9.357960478079795}, 
    {"x": 10.831253875554907, "y": 8.381966011250105, "z": 9.168746124445093"}, 
    {"x": 11.0, "y": 8.585786437626904, "z": 9.0}, 
    {"x": 11.14412280563537, "y": 8.824429495415053, "z": 8.855877194364632}, 
    {"x": 11.2600735106701, "y": 9.092019000520907, "z": 8.7399264893299}, 
    {"x": 11.344997023927915, "y": 9.381966011250105, "z": 8.655002976072085}, 
    {"x": 11.39680224666742, "y": 9.687131069919538, "z": 8.60319775333258}
]

Example Input:
- Path type: Circle
- Center of circle: x:10, y:10, z:10
- Radius: 2 units
- Number of waypoints: 40
- Altitude: z:10
- Rotation axis : x
- Rotation angle : 60 degrees

Example Output:
[
    {"x": 12.0, "y": 10.0, "z": 10.0}, 
    {"x": 11.975376681190276, "y": 10.156434465040231, "z": 10.270952441504537}, 
    {"x": 11.902113032590307, "y": 10.309016994374947, "z": 10.535233134659634}, 
    {"x": 11.782013048376736, "y": 10.453990499739547, "z": 10.78633461170248}, 
    {"x": 11.618033988749895, "y": 10.587785252292473, "z": 11.018073920910254}, 
    {"x": 11.414213562373096, "y": 10.707106781186548, "z": 11.22474487139159}, 
    {"x": 11.175570504584947, "y": 10.809016994374948, "z": 11.401258538444074}, 
    {"x": 10.907980999479093, "y": 10.891006524188368, "z": 11.543268569769602}, 
    {"x": 10.618033988749895, "y": 10.951056516295154, "z": 11.647278207092663}, 
    {"x": 10.312868930080462, "y": 10.987688340595138, "z": 11.710726387954173}, 
    {"x": 10.0, "y": 11.0, "z": 11.732050807568877}, 
    {"x": 9.687131069919538, "y": 10.987688340595138, "z": 11.710726387954173}, 
    {"x": 9.381966011250105, "y": 10.951056516295154, "z": 11.647278207092665}, 
    {"x": 9.092019000520907, "y": 10.891006524188368, "z": 11.543268569769602}, 
    {"x": 8.824429495415053, "y": 10.809016994374948, "z": 11.401258538444074}, 
    {"x": 8.585786437626904, "y": 10.707106781186548, "z": 11.22474487139159}, 
    {"x": 8.381966011250105, "y": 10.587785252292473, "z": 11.018073920910254}, 
    {"x": 8.217986951623264, "y": 10.453990499739547, "z": 10.78633461170248}, 
    {"x": 8.097886967409693, "y": 10.309016994374948, "z": 10.535233134659634}, 
    {"x": 8.024623318809725, "y": 10.156434465040231, "z": 10.270952441504537}, 
    {"x": 8.0, "y": 10.0, "z": 10.0}, 
    {"x": 8.024623318809724, "y": 9.843565534959769, "z": 9.729047558495463}, 
    {"x": 8.097886967409693, "y": 9.690983005625053, "z": 9.464766865340366}, 
    {"x": 8.217986951623264, "y": 9.546009500260453, "z": 9.21366538829752}, 
    {"x": 8.381966011250105, "y": 9.412214747707527, "z": 8.981926079089746}, 
    {"x": 8.585786437626904, "y": 9.292893218813452, "z": 8.77525512860841}, 
    {"x": 8.824429495415053, "y": 9.190983005625052, "z": 8.598741461555926}, 
    {"x": 9.092019000520907, "y": 9.108993475811632, "z": 8.456731430230398}, 
    {"x": 9.381966011250105, "y": 9.048943483704846, "z": 8.352721792907337}, 
    {"x": 9.687131069919538, "y": 9.012311659404862, "z": 8.289273612045827}, 
    {"x": 10.0, "y": 9.0, "z": 8.267949192431123}, 
    {"x": 10.31286893008046, "y": 9.012311659404862, "z": 8.289273612045827}, 
    {"x": 10.618033988749895, "y": 9.048943483704846, "z": 8.352721792907335}, 
    {"x": 10.907980999479093, "y": 9.108993475811632, "z": 8.456731430230398}, 
    {"x": 11.175570504584947, "y": 9.190983005625052, "z": 8.598741461555926}, 
    {"x": 11.414213562373094, "y": 9.292893218813452, "z": 8.77525512860841}, 
    {"x": 11.618033988749895, "y": 9.412214747707527, "z": 8.981926079089746}, 
    {"x": 11.782013048376736, "y": 9.546009500260453, "z": 9.21366538829752}, 
    {"x": 11.902113032590307, "y": 9.690983005625052, "z": 9.464766865340366}, 
    {"x": 11.975376681190275, "y": 9.843565534959769, "z": 9.729047558495463}
]


Example Input:
- Path type: Straight line
- Start point: x:10, y:5, z:5
- End point: x:20, y:15, z:10
- Number of waypoints: 3

Example Output:

[
    {"x": 10.0, "y": 5.0, "z": 5.0},
    {"x": 15.0, "y": 10.0, "z": 7.5},
    {"x": 20.0, "y": 15.0, "z": 10.0}
]

You can use the following python code to generate more accurate waypoints.

import numpy as np
import json

def rotation_matrix(axis, angle):
    
    axis = axis / np.linalg.norm(axis)  # Normalisasi sumbu
    ux, uy, uz = axis
    cos_a = np.cos(angle)
    sin_a = np.sin(angle)
    return np.array([
        [cos_a + ux**2 * (1 - cos_a), ux*uy*(1 - cos_a) - uz*sin_a, ux*uz*(1 - cos_a) + uy*sin_a],
        [uy*ux*(1 - cos_a) + uz*sin_a, cos_a + uy**2 * (1 - cos_a), uy*uz*(1 - cos_a) - ux*sin_a],
        [uz*ux*(1 - cos_a) - uy*sin_a, uz*uy*(1 - cos_a) + ux*sin_a, cos_a + uz**2 * (1 - cos_a)]
    ])

def generate_waypoints(center, radius, num_points, axis, angle):
    
    # Buat lingkaran dalam bidang XY
    t = np.linspace(0, 2 * np.pi, num_points, endpoint=False)
    x = radius * np.cos(t)
    y = radius * np.sin(t)
    z = np.zeros_like(x)
    waypoints = np.array([x, y, z])

    # Terapkan rotasi untuk kemiringan
    rot_matrix = rotation_matrix(axis, angle)
    rotated_waypoints = rot_matrix @ waypoints

    # Pindahkan lingkaran ke pusat yang ditentukan
    final_waypoints = rotated_waypoints + np.array(center).reshape(-1, 1)

    return final_waypoints.T  # Kembalikan dalam bentuk array waypoint

# Parameter
center = [10, 10, 10]  # centre of circle
radius = 2  # radius of circle
num_points = 40  # number of wayponts
axis = [0, 1, 0]  # axis rotation (exc, axis of y)
angle = np.radians(45)  # angle tilt (on radian)

# Generate waypoints
waypoints = generate_waypoints(center, radius, num_points, axis, angle)

waypoint_list = [{"x": waypoint[0], "y": waypoint[1], "z": waypoint[2]} for waypoint in waypoints]

json_data = json.dumps(waypoint_list)
